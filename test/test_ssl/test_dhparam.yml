web5:
  image: web
  expose:
    - "85"
  environment:
    WEB_PORTS: "85"
    VIRTUAL_HOST: "web5.nginx-proxy.tld"

# sut - System Under Test
with_default_group:
  image: nginxproxy/nginx-proxy:test
  container_name: dh-default
  volumes:
    - /var/run/docker.sock:/tmp/docker.sock:ro
    - ./certs:/etc/nginx/certs:ro

with_alternative_group:
  image: nginxproxy/nginx-proxy:test
  container_name: dh-env
  environment:
    - DHPARAM_BITS=2048
  volumes:
    - /var/run/docker.sock:/tmp/docker.sock:ro
    - ./certs:/etc/nginx/certs:ro

with_invalid_group:
  image: nginxproxy/nginx-proxy:test
  container_name: invalid-group-1024
  environment:
    - DHPARAM_BITS=1024
  volumes:
    - /var/run/docker.sock:/tmp/docker.sock:ro
    - ./certs:/etc/nginx/certs:ro

with_custom_file:
  image: nginxproxy/nginx-proxy:test
  container_name: dh-file
  volumes:
    - /var/run/docker.sock:/tmp/docker.sock:ro
    - ./certs:/etc/nginx/certs:ro
    - ../lib/ssl/dhparam.pem:/etc/nginx/dhparam/dhparam.pem:ro

with_skip:
  image: nginxproxy/nginx-proxy:test
  container_name: dh-skip
  environment:
    - DHPARAM_SKIP=1
  volumes:
    - /var/run/docker.sock:/tmp/docker.sock:ro
    - ./certs:/etc/nginx/certs:ro